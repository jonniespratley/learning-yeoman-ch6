// Generated by CoffeeScript 1.6.3
"use strict";
var JsblogGenerator, chalk, path, util, yeoman;
util = require("util");
path = require("path");
yeoman = require("yeoman-generator");
chalk = require("chalk");
JsblogGenerator = yeoman.generators.Base.extend({
	init : function() {
		this.pkg = require("../package.json");
		this.on("end", function() {
			if(!this.options["skip-install"]) {
				this.installDependencies();
			}
		});
	},
	askFor : function() {
		var done, prompts;
		done = this.async();
		this.log(this.yeoman);
		this.log(chalk.magenta("You're using the fantastic Jsblog generator."));
		prompts = [{
			type : "confirm",
			name : "someOption",
			message : "Would you like to enable this option?",
			"default" : true
		}, {
			type : 'input',
			name : 'blogName',
			message : 'What is the name of your blog?',
			"default" : 'Sample Blog'
		}];
		this.prompt(prompts, (function(props) {
			this.someOption = props.someOption;
			this.blogName = props.blogName;
			done();
		}).bind(this));
	},
	app : function() {

		//Log level files
		this.template('_Gruntfile.js', 'Gruntfile.js');
		this.template('_index.html', 'index.html');
		this.copy("_package.json", "package.json");
		this.copy("_bower.json", "bower.json");
		
		//App files
		this.mkdir("app");
		this.mkdir("app/templates");
		
		
		//Subdirectory
		this.mkdir('posts');
		//this.template('_index.md', 'posts/index.md');
	},
	projectfiles : function() {
		this.copy("editorconfig", ".editorconfig");
		this.copy("jshintrc", ".jshintrc");
	}
});

module.exports = JsblogGenerator;
